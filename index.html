<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Calories Cal</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/themes/default/jquery.mobile-1.4.5.min.css" rel="stylesheet" type="text/css"/>
        <link href="css/app.css" rel="stylesheet" type="text/css"/>
        <script src="js/jquery.min.js" type="text/javascript"></script>
        <script src="js/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
    </head>
    <body>
        <section data-role="page" id="home" data-title="Welcome">
            <header data-role="header">
                <h1>Welcome</h1>
            </header>
            <div data-role="content">           
                <a data-rel="popup" href="#pop2" data-transition="slide"><img src="images/logo5.png" alt="" class="centerdisplay"/></a>
                <p class="plink"><a href="#main-menu" data-role="button" data-inline="false" data-icon="home" data-iconpos="top">Main Menu</a></p>
                <p class="plink"><a href="#login" data-role="button" data-inline="false" data-icon="user" data-iconpos="top">Login</a></p>
                <p class="plink"><a href="#cal-list" rel="external" data-role="button" data-inline="false" data-icon="lock" data-iconpos="top">List</a></p>
                <p class="plink"><a data-rel="popup" href="#pop1" data-transition="slide">V.1</a></p>
                <div data-role="popup" id="pop1">
                    <p>Version 1.0</p>
                </div>
                <div data-role="popup" id="pop2">
                    <p>Logo</p>
                </div>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="main-menu" data-title="Main Menu">
            <header data-role="header">
                <h1>Main menu</h1>              
                <div data-role="navbar">
                    <ul>
                        <li><a data-icon="back" data-rel="back"></a></li>
                        <li><a data-icon="home" data-rel="back"></a></li>
                    </ul>              
                </div>
            </header>
            <div data-role="content">
                <ul data-role="listview" data-inset="true">
                    <li data-icon="edit"><a href="calculation.html" rel="external">บันทึก</a></li>
                    <li data-icon="bars"><a href="food.html" rel="external">รายการอาหารและแคลอรี่</a></li>
                    <li data-icon="user"><a href="#about-us" data-rel="dialog" data-transition="slidefade">About us</a></li>
                    <li data-icon="calendar"><a href="#app-detail">App Detail</a></li>
                    <li data-icon="false"><a href="#test">Test</a></li>
                    <li data-icon="false"><a href="#test2">Test2</a></li>
                </ul>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="app-detail" data-title="Detail">
            <header data-role="header">
                <h1>App Detail</h1>
                <a href="" data-rel="back">Back</a>
            </header>
            <div data-role="content">           
                Created Date : 20151013
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="about-us" data-title="About">
            <header data-role="header">               
                <h1>About us</h1>
                <!--
                <div>
                    <a data-role="button">Data 1</a>
                    <a data-role="button">Data 2</a>
                </div>
                -->
            </header>
            <div data-role="content">           
                This App developed by Jakkrapon 590198
                <h3 class="ui-bar ui-bar-a ui-corner-all">About us</h3>
                <div class="ui-body ui-body-a ui-corner-all">
                    <p>The filter widget is based on and replaces the listview filter extension. Thus, you can set data-filter="true" on a listview to generate a filter for its list items.</p>
                </div>
                <div class="ui-body ui-body-a ui-corner-all">
                    <h3>About us</h3>                
                    <p>The filter widget is based on and replaces the listview filter extension. Thus, you can set data-filter="true" on a listview to generate a filter for its list items.</p>
                </div>
                <div class="ui-corner-all custom-corners">
                    <div class="ui-bar ui-bar-a">
                        <h3>About us</h3>
                    </div>
                    <div class="ui-body ui-body-a">
                        <p>The filter widget is based on and replaces the listview filter extension. Thus, you can set data-filter="true" on a listview to generate a filter for its list items.</p>
                    </div>
                </div>
                <div data-role="navbar">                    
                    <a href="" data-rel="back">Close</a>
                </div>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="login" data-title="Login">
            <header data-role="header">
                <h1>Login</h1>
                <a href="" data-rel="back">Back</a>
            </header>
            <div data-role="content">           
                <form>                    
                    <div class="ui-field-contain">
                        <label>UserName</label>
                        <input type="text" name="menu" id="menu" value="" placeholder="ชื่อผู้ใช้" data-clear-btn="true">
                    </div>
                    <div class="ui-field-contain">
                        <label>Password</label>
                        <input type="password" name="cal" id="cal" value="" placeholder="รัหสผ่าน">
                    </div>
                    <div class="ui-field-contain">
                        <fieldset data-role="controlgroup"
                                  data-type="horizontal">
                            <button type="submit" data-icon="check" data-mini="true">Send</button>
                            <button type="reset" data-icon="delete" data-mini="true">Cancel</button>
                        </fieldset>
                    </div>
                </form>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="cal-list" data-title="PHP-MySQL">
            <header data-role="header">
                <h1>Cal List</h1>
                <a href="" data-rel="back">Back</a>
            </header>
            <div data-role="content">           
                <ul data-role="listview" data-inset="true" id="cal-listview">
                    <!--
                    <li data-icon="carat-r">
                        <a>A</a>
                    </li>                    
                     <li data-icon="carat-r">
                        <a>B</a>
                    </li>  
                    -->
                </ul>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="test" data-title="Test">
            <header data-role="header">               
                <h1>Test</h1>               
            </header>
            <div data-role="content">
                <!-- tab -->
                <div data-role="tabs">
                    <div data-role="navbar">
                        <ul>
                            <li><a href="#tab1">Tab1</a></li>
                            <li><a href="#tab2">Tab2</a></li>
                            <li><a href="#about-us">Tab3</a></li>
                        </ul>
                    </div>
                    <div id="tab1">
                        This is Tab1
                    </div>
                    <div id="tab2">
                        This is Tab2
                    </div>                     
                </div>
                
                <!-- collapse -->
                <div data-role="collapsible">
                    <h2>Topic #1</h2>
                    <p>tttt 111</p>
                </div>
                <div data-role="collapsible">
                    <h2>Topic #2</h2>
                    <p>tttt 222</p>
                </div>
                <div data-role="collapsible" data-collapsed="false"
                     data-collapsed-icon="home"
                     data-expanded-icon="calendar"
                     data-iconpos="right">
                    <h2>Topic #3</h2>
                    <p>tttt 333</p>
                </div>
                <div data-role="collapsible">
                    <h2>Topic #4</h2>
                    <p>tttt 444</p>
                    <div data-role="collapsible">
                        <h2>Topic #5</h2>
                        <p>tttt 555</p>
                    </div>
                </div>
                <!-- accordian -->
                <div data-role="collapsible-set">
                    <div data-role="collapsible">
                        <h2>Topic #1</h2>
                        <p>tttt 111</p>
                    </div>
                    <div data-role="collapsible">
                        <h2>Topic #2</h2>
                        <p>tttt 222</p>
                    </div>
                </div>
                <div class="ui-grid-b">
                    <div class="ui-block-b"></div>
                        <div data-role="controlgroup" class="ui-block-b">
                            <a data-mini="true" data-role="button">a</a>
                            <a data-mini="true" data-role="button">b</a>
                            <a data-mini="true" data-role="button">c</a>
                        </div>
                    <div class="ui-block-c"></div>
                </div>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <section data-role="page" id="test2" data-title="Test2">
            <header data-role="header">               
                <h1>Test 2</h1>                
            </header>
            <div data-role="content">           
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <a data-role="button">A</a>
                    </div>
                    <div class="ui-block-b">
                        <a data-role="button">B</a>
                    </div>
                    <div class="ui-block-a">
                        <a data-role="button">A</a>
                    </div>
                    <div class="ui-block-b">
                        <a data-role="button">B</a>
                    </div>
                </div>
                <div class="ui-grid-c">
                    <div class="ui-block-a">
                        <a data-role="button">A</a>
                    </div>
                    <div class="ui-block-b">
                        <a data-role="button">B</a>
                    </div>
                    <div class="ui-block-c">
                        <a data-role="button">C</a>
                    </div>
                    <div class="ui-block-d">
                        <a data-role="button">D</a>
                    </div>
                </div>
                <div class="ui-grid-d">
                    <div class="ui-block-a">
                        <a data-role="button">A</a>
                    </div>
                    <div class="ui-block-b">
                        <a data-role="button">B</a>
                    </div>
                    <div class="ui-block-c">
                        <a data-role="button">C</a>
                    </div>
                    <div class="ui-block-d">
                        <a data-role="button">D</a>
                    </div>
                    <div class="ui-block-e">
                        <a data-role="button">E</a>
                    </div>
                </div>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
        <script type="text/javascript">            
            var serviceURL = "http://10.20.93.76/CaloriesCal_Service/cal_list.php";
            var serviceURL2 = "http://10.20.93.76/CaloriesCal_Service/get_cal_detail.php";
            var calType;
            $("#cal-list").on('pageinit',function(){
                //alert("hello");
                //$.getJSON(serviceURL,function(data){
                //    $("#cal-listview li").remove();
                //});
            });
            
            $(document).on('pageshow',"#cal-list",function(){
                $.getJSON(serviceURL,function(data){
                    $("#cal-listview li").remove();
                    calType = data.items;
                    $.each(calType,function(index,cal){
                        //alert(cal.menu_name);
                        $("#cal-listview").append("<li><a href='caltype_detail.html?id="+ cal.id +"'>"+cal.menu_name+"</a></li>");
                    });
                    //alert(calType);
                    $("#cal-listview").listview('refresh');
                });
            });
            
            $(document).on('pageshow',"#cal-detail",function(){
                var id=getUrlVars()["id"];                
                $.getJSON(serviceURL2+"?id="+id,function (data){
                    var a = data.items;
                    $.each(a,function (index,cal){
                        $("#sp1").html(cal.menu_name);
                        //alert(cal.menu_name);
                    })
                });
            });
            
            function getUrlVars() {
                var vars = [], hash;
                var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                for (var i = 0; i < hashes.length; i++)
                {
                    hash = hashes[i].split('=');
                    vars.push(hash[0]);
                    vars[hash[0]] = hash[1];
                }
                return vars;
            }
        </script>
    </body>
</html>
